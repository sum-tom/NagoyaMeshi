<!DOCTYPE html>
<html lang="ja" xmlns:th="https://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ShopEdit</title>
        <meta name="description" content="店舗編集">

        <!-- CSS -->
        <link rel="stylesheet" href="/../css/style.css">
        <!-- FontAwesome -->
        <script src="https://kit.fontawesome.com/fc00afdc84.js" crossorigin="anonymous"></script>

    </head>
    <body>


        <!-- ヘッダー -->
        <header class="header">
          <div class="header-container">
              <h1><a href="">NagoyaMeshi</a></h1>
              <div class="button-container">
                <button class="button" type="button">ログイン</button>
                <button class="button" type="button">会員登録</button>
              </div>
            </div>
        </header>

        <!-- メイン -->
        <main>
        <!--breadcrumb--> 
          <nav>
            <ol class="breadcrumb">
              <li><a href="/admin-top.html">ホーム</a></li>
              <li>店舗編集</li>
            </ol>
          </nav>
        <!-- ShopEdit -->
            <div class="contents-container">
              <div class="contents-header">
                <h2>店舗編集</h2>
              </div>

               <form method="post" th:action="@{/admin/shop/__${id}__/update}" th:object="${shopEditForm}" enctype="multipart/form-data">
	             <input type="hidden" th:field="*{id}">
	             
	              <label for="imageFile" >画像</label>
					<div th:if="${#fields.hasErrors('imageFile')}"th:errors="*{imageFile}"></div>  
	              <input type="file"  th:field="*{imageFile}">
			<!-- 選択された画像の表示場所 -->
                     <div th:if="${imageName}" class="row" id="imagePreview"><img th:src="@{/storage/__${imageName}__}" class="mb-3"></div>
                     <div th:unless="${imageName}" class="row" id="imagePreview"></div>                            
             

              <ul>
                <li>
                  <span class="title">店舗名</span>
                  <div th:if="${#fields.hasErrors('name')}"  th:errors="*{name}"></div>
                  <input type="text"  th:field="*{name}" autofocus>
                </li>
                <li>
                  <span class="title">説明</span>
                  <div th:if="${#fields.hasErrors('description')}"  th:errors="*{description}"></div>
                  <input type="text"  th:field="*{description}">
                </li>
                <li>
                  <span class="title">上限価格帯</span>
                  <div th:if="${#fields.hasErrors('priceUpperLimit')}"  th:errors="*{priceUpperLimit}"></div>
                  <input type="number"  th:field="*{priceUpperLimit}">  
                </li>
                <li>
                  <span class="title">下限価格帯</span>
                  <div th:if="${#fields.hasErrors('priceLowerLimit')}"  th:errors="*{priceLowerLimit}"></div>
                  <input type="number"  th:field="*{priceLowerLimit}">
                </li>
                <li>
                  <span class="title">郵便番号</span>
                  <div th:if="${#fields.hasErrors('postalCode')}"  th:errors="*{postalCode}"></div>
                  <input type="text"  th:field="*{postalCode}">
                </li>
                <li>
                  <span class="title">住所</span>
                  <div th:if="${#fields.hasErrors('address')}"  th:errors="*{address}"></div>
                  <input type="text"  th:field="*{address}">
                </li>
                <li>
                  <span class="title">開店時間</span>
                  <div th:if="${#fields.hasErrors('openingHours')}"  th:errors="*{openingHours}"></div>
                  <input type="time"  th:field="*{openingHours}">
                </li>
                <li>
                  <span class="title">開店時間</span>
                  <div th:if="${#fields.hasErrors('closingHours')}"  th:errors="*{closingHours}"></div>
                  <input type="time"  th:field="*{closingHours}">
                </li>
                <li>
                  <span class="title">電話番号</span>
                  <div th:if="${#fields.hasErrors('phoneNumber')}"  th:errors="*{phoneNumber}"></div>
                  <input type="number"  th:field="*{phoneNumber}">
                </li>
                <li>
                  <span class="title">定休日</span>
                  <div th:if="${#fields.hasErrors('regularHoliday')}"  th:errors="*{regularHoliday}"></div>
                  <input type="text"  th:field="*{regularHoliday}">
                </li>
                <li>
                  <span class="title">カテゴリー</span>
                  <div th:if="${#fields.hasErrors('categoryId')}"  th:errors="*{categoryId}"></div>
                  <input type="text"  th:field="*{categoryId}">
                </li>
                
              </ul>

              <div class="button-container">
                <button class="button" type="submit" >登録</button>
              </div>
          </form>   

              
            </div>
        </main>

        <!-- フッター -->
        <footer class="footer">
           <p>NagoyaMeshi</p>
           <small>©NagoyaMeshi</small>
        </footer>

        <!-- JS -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
         <script th:src="@{/js/preview.js}"></script>   

    </body>
</html>
